<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/ncb000gt/node-cron#readme"

    >cron (v1.2.1)</a>
</h1>
<h4>Cron jobs for your node</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.cron">module cron</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob">
            function <span class="apidocSignatureSpan">cron.</span>CronJob
            <span class="apidocSignatureSpan">(cronTime, onTick, onComplete, startNow, timeZone, context, runOnInit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime">
            function <span class="apidocSignatureSpan">cron.</span>CronTime
            <span class="apidocSignatureSpan">(source, zone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.job">
            function <span class="apidocSignatureSpan">cron.</span>job
            <span class="apidocSignatureSpan">(cronTime, onTick, onComplete)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.sendAt">
            function <span class="apidocSignatureSpan">cron.</span>sendAt
            <span class="apidocSignatureSpan">(cronTime)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.time">
            function <span class="apidocSignatureSpan">cron.</span>time
            <span class="apidocSignatureSpan">(cronTime, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.timeout">
            function <span class="apidocSignatureSpan">cron.</span>timeout
            <span class="apidocSignatureSpan">(cronTime)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cron.</span>CronJob.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cron.</span>CronTime.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cron.CronJob">module cron.CronJob</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.CronJob">
            function <span class="apidocSignatureSpan">cron.</span>CronJob
            <span class="apidocSignatureSpan">(cronTime, onTick, onComplete, startNow, timeZone, context, runOnInit)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cron.CronJob.prototype">module cron.CronJob.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.addCallback">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>addCallback
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.fireOnTick">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>fireOnTick
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.lastDate">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>lastDate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.nextDate">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>nextDate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.nextDates">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>nextDates
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.setTime">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>setTime
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.start">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronJob.prototype.stop">
            function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cron.CronTime">module cron.CronTime</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.CronTime">
            function <span class="apidocSignatureSpan">cron.</span>CronTime
            <span class="apidocSignatureSpan">(source, zone)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cron.CronTime.</span>aliases</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cron.CronTime.</span>constraints</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cron.CronTime.</span>monthConstraints</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cron.CronTime.</span>parseDefaults</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cron.CronTime.prototype">module cron.CronTime.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._findDST">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_findDST
            <span class="apidocSignatureSpan">(date)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._getNextDateFrom">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_getNextDateFrom
            <span class="apidocSignatureSpan">(start)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._hasAll">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_hasAll
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._parse">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_parse
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._parseField">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_parseField
            <span class="apidocSignatureSpan">(field, type, constraints)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._verifyParse">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_verifyParse
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype._wcOrAll">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_wcOrAll
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype.getTimeout">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>getTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype.sendAt">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>sendAt
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype.toJSON">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cron.CronTime.prototype.toString">
            function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cron" id="apidoc.module.cron">module cron</a></h1>


    <h2>
        <a href="#apidoc.element.cron.CronJob" id="apidoc.element.cron.CronJob">
        function <span class="apidocSignatureSpan">cron.</span>CronJob
        <span class="apidocSignatureSpan">(cronTime, onTick, onComplete, startNow, timeZone, context, runOnInit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CronJob(cronTime, onTick, onComplete, startNow, timeZone, context, runOnInit) {
	var _cronTime = cronTime;
	if (typeof cronTime != &#x27;string&#x27; &#x26;&#x26; arguments.length == 1) {
		//crontime is an object...
		onTick = cronTime.onTick;
		onComplete = cronTime.onComplete;
		context = cronTime.context;
		startNow = cronTime.start || cronTime.startNow || cronTime.startJob;
		timeZone = cronTime.timeZone;
		runOnInit = cronTime.runOnInit;
		_cronTime = cronTime.cronTime;
	}

	this.context = (context || this);
	this._callbacks = [];
	this.onComplete = command2function(onComplete);
	this.cronTime = new CronTime(_cronTime, timeZone);

	addCallback.call(this, command2function(onTick));

	if (runOnInit) fireOnTick.call(this);
	if (startNow) start.call(this);

	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime" id="apidoc.element.cron.CronTime">
        function <span class="apidocSignatureSpan">cron.</span>CronTime
        <span class="apidocSignatureSpan">(source, zone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CronTime(source, zone) {
	this.source = source;

	if (zone) {
		if (moment.tz.names().indexOf(zone) === -1) {
			throw new Error(&#x27;Invalid timezone.&#x27;);
		}

		this.zone = zone;
	}

	var that = this;
	timeUnits.map(function(timeUnit){
		that[timeUnit] = {};
	});

	if (this.source instanceof Date) {
		this.source = moment(this.source);
		this.realDate = true;
	} else {
		this._parse();
		this._verifyParse();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.job" id="apidoc.element.cron.job">
        function <span class="apidocSignatureSpan">cron.</span>job
        <span class="apidocSignatureSpan">(cronTime, onTick, onComplete)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">job = function (cronTime, onTick, onComplete) {
	return new CronJob(cronTime, onTick, onComplete);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.sendAt" id="apidoc.element.cron.sendAt">
        function <span class="apidocSignatureSpan">cron.</span>sendAt
        <span class="apidocSignatureSpan">(cronTime)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendAt = function (cronTime) {
	return exports.time(cronTime).sendAt();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.time" id="apidoc.element.cron.time">
        function <span class="apidocSignatureSpan">cron.</span>time
        <span class="apidocSignatureSpan">(cronTime, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">time = function (cronTime, timeZone) {
	return new CronTime(cronTime, timeZone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.timeout" id="apidoc.element.cron.timeout">
        function <span class="apidocSignatureSpan">cron.</span>timeout
        <span class="apidocSignatureSpan">(cronTime)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (cronTime) {
	return exports.time(cronTime).getTimeout();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cron.CronJob" id="apidoc.module.cron.CronJob">module cron.CronJob</a></h1>


    <h2>
        <a href="#apidoc.element.cron.CronJob.CronJob" id="apidoc.element.cron.CronJob.CronJob">
        function <span class="apidocSignatureSpan">cron.</span>CronJob
        <span class="apidocSignatureSpan">(cronTime, onTick, onComplete, startNow, timeZone, context, runOnInit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CronJob(cronTime, onTick, onComplete, startNow, timeZone, context, runOnInit) {
	var _cronTime = cronTime;
	if (typeof cronTime != &#x27;string&#x27; &#x26;&#x26; arguments.length == 1) {
		//crontime is an object...
		onTick = cronTime.onTick;
		onComplete = cronTime.onComplete;
		context = cronTime.context;
		startNow = cronTime.start || cronTime.startNow || cronTime.startJob;
		timeZone = cronTime.timeZone;
		runOnInit = cronTime.runOnInit;
		_cronTime = cronTime.cronTime;
	}

	this.context = (context || this);
	this._callbacks = [];
	this.onComplete = command2function(onComplete);
	this.cronTime = new CronTime(_cronTime, timeZone);

	addCallback.call(this, command2function(onTick));

	if (runOnInit) fireOnTick.call(this);
	if (startNow) start.call(this);

	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cron.CronJob.prototype" id="apidoc.module.cron.CronJob.prototype">module cron.CronJob.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.addCallback" id="apidoc.element.cron.CronJob.prototype.addCallback">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>addCallback
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addCallback = function (callback) {
	if (typeof callback == &#x27;function&#x27;) this._callbacks.push(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.fireOnTick" id="apidoc.element.cron.CronJob.prototype.fireOnTick">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>fireOnTick
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fireOnTick = function () {
	for (var i = (this._callbacks.length - 1); i &#x3e;= 0; i--)
		this._callbacks[i].call(this.context, this.onComplete);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.lastDate" id="apidoc.element.cron.CronJob.prototype.lastDate">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>lastDate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastDate = function (){
	return this.lastExecution;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.nextDate" id="apidoc.element.cron.CronJob.prototype.nextDate">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>nextDate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextDate = function () {
	return this.cronTime.sendAt();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.nextDates" id="apidoc.element.cron.CronJob.prototype.nextDates">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>nextDates
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextDates = function (i) {
	return this.cronTime.sendAt(i);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.setTime" id="apidoc.element.cron.CronJob.prototype.setTime">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>setTime
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTime = function (time) {
	if (!(time instanceof CronTime)) throw new Error(&#x27;\&#x27;time\&#x27; must be an instance of CronTime.&#x27;);
	this.stop();
	this.cronTime = time;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.start" id="apidoc.element.cron.CronJob.prototype.start">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function () {
	if (this.running) return;

	var MAXDELAY = 2147483647; // The maximum number of milliseconds setTimeout will wait.
	var self = this;
	var timeout = this.cronTime.getTimeout();
	var remaining = 0;
	var startTime;

	if (this.cronTime.realDate) this.runOnce = true;

	function _setTimeout(timeout) {
		startTime = Date.now();
		self._timeout = setTimeout(callbackWrapper, timeout);
	}

	// The callback wrapper checks if it needs to sleep another period or not
	// and does the real callback logic when it&#x27;s time.

	function callbackWrapper() {
		var diff = startTime + timeout - Date.now();

		if (diff &#x3e; 0) {
			var newTimeout = self.cronTime.getTimeout();

			if (newTimeout &#x3e; diff) {
				newTimeout = diff;
			}

			remaining += newTimeout;
		}

		// If there is sleep time remaining, calculate how long and go to sleep
		// again. This processing might make us miss the deadline by a few ms
		// times the number of sleep sessions. Given a MAXDELAY of almost a
		// month, this should be no issue.

		self.lastExecution = new Date();
		if (remaining) {
			if (remaining &#x3e; MAXDELAY) {
				remaining -= MAXDELAY;
				timeout = MAXDELAY;
			} else {
				timeout = remaining;
				remaining = 0;
			}

			_setTimeout(timeout);
		} else {

			// We have arrived at the correct point in time.

			self.running = false;

			//start before calling back so the callbacks have the ability to stop the cron job
			if (!(self.runOnce)) self.start();

			self.fireOnTick();
			//for (var i = (self._callbacks.length - 1); i &#x3e;= 0; i--)
				//self._callbacks[i].call(self.context, self.onComplete);
		}
	}

	if (timeout &#x3e;= 0) {
		this.running = true;

		// Don&#x27;t try to sleep more than MAXDELAY ms at a time.

		if (timeout &#x3e; MAXDELAY) {
			remaining = timeout - MAXDELAY;
			timeout = MAXDELAY;
		}

		_setTimeout(timeout);
	} else {
		this.stop();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
     * at 11:30:00 AM. It does not run on Saturday
     * or Sunday.
     */
  },
  start: false,
  timeZone: &#x27;America/Los_Angeles&#x27;
});
job.<span class="apidocCodeKeywordSpan">start</span>();
```


How to check if a cron pattern is valid:
==========

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronJob.prototype.stop" id="apidoc.element.cron.CronJob.prototype.stop">
        function <span class="apidocSignatureSpan">cron.CronJob.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {
	if (this._timeout)
		clearTimeout(this._timeout);
	this.running = false;
	if (typeof this.onComplete == &#x27;function&#x27;) this.onComplete();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

* `constructor(cronTime, onTick, onComplete, start, timezone, context, runOnInit)` - Of note, the first parameter here can be a
JSON object that has the below names and associated types (see examples above).
  * `cronTime` - [REQUIRED] - The time to fire off your job. This can be in the form of cron syntax or a JS [Date](https://developer
.mozilla.org/en/JavaScript/Reference/Global_Objects/Date) object.
  * `onTick` - [REQUIRED] - The function to fire at the specified time.
  * `onComplete` - [OPTIONAL] - A function that will fire when the job is complete, when it is stopped.
  * `start` - [OPTIONAL] - Specifies whether to start the job just before exiting the constructor. By default this is set to false
. If left at default you will need to call `job.start()` in order to start the job (assuming `job` is the variable you set the cronjob
 to). This does not immediately fire your `onTick` function, it just gives you more control over the behavior of your jobs.
  * `timeZone` - [OPTIONAL] - Specify the timezone for the execution. This will modify the actual time relative to your timezone
. If the timezone is invalid, an error is thrown.
  * `context` - [OPTIONAL] - The context within which to execute the onTick method. This defaults to the cronjob itself allowing
 you to call `this.<span class="apidocCodeKeywordSpan">stop</span>()`. However, if you change this you&#x27;ll have access to the
 functions and values within your context object.
  * `runOnInit` - [OPTIONAL] - This will immediately fire your `onTick` function as soon as the requisit initialization has happened
. This option is set to `false` by default for backwards compatability.
* `start` - Runs your job.
* `stop` - Stops your job.

`CronTime`

* `constructor(time)`
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cron.CronTime" id="apidoc.module.cron.CronTime">module cron.CronTime</a></h1>


    <h2>
        <a href="#apidoc.element.cron.CronTime.CronTime" id="apidoc.element.cron.CronTime.CronTime">
        function <span class="apidocSignatureSpan">cron.</span>CronTime
        <span class="apidocSignatureSpan">(source, zone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CronTime(source, zone) {
	this.source = source;

	if (zone) {
		if (moment.tz.names().indexOf(zone) === -1) {
			throw new Error(&#x27;Invalid timezone.&#x27;);
		}

		this.zone = zone;
	}

	var that = this;
	timeUnits.map(function(timeUnit){
		that[timeUnit] = {};
	});

	if (this.source instanceof Date) {
		this.source = moment(this.source);
		this.realDate = true;
	} else {
		this._parse();
		this._verifyParse();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cron.CronTime.prototype" id="apidoc.module.cron.CronTime.prototype">module cron.CronTime.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._findDST" id="apidoc.element.cron.CronTime.prototype._findDST">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_findDST
        <span class="apidocSignatureSpan">(date)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_findDST = function (date) {
		var newDate = moment(date);
		while (newDate &#x3c;= date)
			newDate.add(1, &#x27;s&#x27;);

		return newDate;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._getNextDateFrom" id="apidoc.element.cron.CronTime.prototype._getNextDateFrom">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_getNextDateFrom
        <span class="apidocSignatureSpan">(start)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getNextDateFrom = function (start) {
		var date = moment(start);
		if (date.toString() == &#x27;Invalid date&#x27;) {
			console.log(&#x27;ERROR: You specified an invalid date.&#x27;);
			return date;
		}
		if (this.realDate &#x26;&#x26; start &#x3c; new Date())
			console.log(&#x27;WARNING: Date in past. Will never be fired.&#x27;);
		if (this.realDate) return date;

		//sanity check
		while (true) {
			var diff = date - start,
				origDate = new Date(date);

			if (!(date.month() in this.month)) {
				date.add(1, &#x27;M&#x27;);
				date.date(1);
				date.hours(0);
				date.minutes(0);
				date.seconds(0);
				continue;
			}

			if (!(date.date() in this.dayOfMonth)) {
				date.add(1, &#x27;d&#x27;);
				date.hours(0);
				date.minutes(0);
				date.seconds(0);
				continue;
			}

			if (!(date.day() in this.dayOfWeek)) {
				date.add(1, &#x27;d&#x27;);
				date.hours(0);
				date.minutes(0);
				date.seconds(0);
				if (date &#x3c;= origDate) {
					date = this._findDST(origDate);
				}
				continue;
			}

			if (!(date.hours() in this.hour)) {
				origDate = moment(date);
				date.hours(date.hours() == 23 &#x26;&#x26; diff &#x3e; 86400000 ? 0 : date.hours() + 1);
				date.minutes(0);
				date.seconds(0);
				if (date &#x3c;= origDate) {
					date = this._findDST(origDate);
				}
				continue;
			}

			if (!(date.minutes() in this.minute)) {
				origDate = moment(date);
				date.minutes(date.minutes() == 59 &#x26;&#x26; diff &#x3e; 60 * 60 * 1000 ? 0 : date.minutes() + 1);
				date.seconds(0);
				if (date &#x3c;= origDate) {
					date = this._findDST(origDate);
				}
				continue;
			}

			if (!(date.seconds() in this.second)) {
				origDate = moment(date);
				date.seconds(date.seconds() == 59 &#x26;&#x26; diff &#x3e; 60 * 1000 ? 0 : date.seconds() + 1);
				if (date &#x3c;= origDate) {
					date = this._findDST(origDate);
				}
				continue;
			}

			break;
		}

		return date;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._hasAll" id="apidoc.element.cron.CronTime.prototype._hasAll">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_hasAll
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_hasAll = function (type) {
		var constrain = CronTime.constraints[timeUnits.indexOf(type)];

		for (var i = constrain[0], n = constrain[1]; i &#x3c; n; i++) {
			if (!(i in this[type])) return false;
		}

		return true;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._parse" id="apidoc.element.cron.CronTime.prototype._parse">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_parse
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parse = function () {
		var aliases = CronTime.aliases,
		source = this.source.replace(/[a-z]{1,3}/ig, function(alias) {
			alias = alias.toLowerCase();

			if (alias in aliases) {
				return aliases[alias];
			}

			throw new Error(&#x27;Unknown alias: &#x27; + alias);
		}),
		split = source.replace(/^\s\s*|\s\s*$/g, &#x27;&#x27;).split(/\s+/),
		cur, i = 0,
		len = timeUnits.length;

		for (; i &#x3c; timeUnits.length; i++) {
			// If the split source string doesn&#x27;t contain all digits,
			// assume defaults for first n missing digits.
			// This adds support for 5-digit standard cron syntax
			cur = split[i - (len - split.length)] || CronTime.parseDefaults[i];
			this._parseField(cur, timeUnits[i], CronTime.constraints[i]);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._parseField" id="apidoc.element.cron.CronTime.prototype._parseField">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_parseField
        <span class="apidocSignatureSpan">(field, type, constraints)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseField = function (field, type, constraints) {
		var rangePattern = /^(\d+)(?:-(\d+))?(?:\/(\d+))?$/g,
		typeObj = this[type],
		pointer,
		low = constraints[0],
		high = constraints[1];

		// * is a shortcut to [lower-upper] range
		field = field.replace(/\*/g, low + &#x27;-&#x27; + high);

		//commas separate information, so split based on those
		var allRanges = field.split(&#x27;,&#x27;);

		for (var i = 0; i &#x3c; allRanges.length; i++) {
			if (allRanges[i].match(rangePattern)) {
				allRanges[i].replace(rangePattern, function($0, lower, upper, step) {
					step = parseInt(step) || 1;
					// Positive integer higher than constraints[0]
					lower = Math.min(Math.max(low, ~~Math.abs(lower)), high);

					// Positive integer lower than constraints[1]
					upper = upper ? Math.min(high, ~~Math.abs(upper)) : lower;

					// Count from the lower barrier to the upper
					pointer = lower;

					do {
						typeObj[pointer] = true
						pointer += step;
					} while (pointer &#x3c;= upper);
				});
			} else {
				throw new Error(&#x27;Field (&#x27; + field + &#x27;) cannot be parsed&#x27;);
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._verifyParse" id="apidoc.element.cron.CronTime.prototype._verifyParse">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_verifyParse
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_verifyParse = function () {
		var months = Object.keys(this.month);
		for (var i = 0; i &#x3c; months.length; i++) {
			var m = months[i];
			var con = CronTime.monthConstraints[parseInt(m, 10)];
			var ok = false;
			var dsom = Object.keys(this.dayOfMonth);
			for (var j = 0; j &#x3c; dsom.length; j++) {
				var dom = dsom[j];
				if (dom &#x3c;= con)
					ok = true;
			}

			if (!ok) {
				console.warn(&#x27;Month \&#x27;&#x27; + m + &#x27;\&#x27; is limited to \&#x27;&#x27; + con + &#x27;\&#x27; days.&#x27;);
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype._wcOrAll" id="apidoc.element.cron.CronTime.prototype._wcOrAll">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>_wcOrAll
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_wcOrAll = function (type) {
		if (this._hasAll(type)) return &#x27;*&#x27;;

		var all = [];
		for (var time in this[type]) {
			all.push(time);
		}

		return all.join(&#x27;,&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype.getTimeout" id="apidoc.element.cron.CronTime.prototype.getTimeout">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>getTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTimeout = function () {
		return Math.max(-1, this.sendAt() - moment());
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype.sendAt" id="apidoc.element.cron.CronTime.prototype.sendAt">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>sendAt
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendAt = function (i) {
		var date = this.realDate ? this.source : moment();
		// Set the timezone if given (http://momentjs.com/timezone/docs/#/using-timezones/parsing-in-zone/)
		if (this.zone)
			date = date.tz(this.zone);

		if (this.realDate)
			return date;

		//add 1 second so next time isn&#x27;t now (can cause timeout to be 0 or negative number)
		var now = new Date();
		var targetSecond = date.seconds();
		var diff = Math.abs(targetSecond - now.getSeconds())
		// there was a problem when `date` is 1424777177999 and `now` is 1424777178000
		// 1 ms diff but this is another second...
		if ( diff == 0 || (diff == 1 &#x26;&#x26; now.getMilliseconds() &#x3c;= date.milliseconds() ) ) {
			//console.log(&#x27;add 1 second?&#x27;);
			date = date.add(1, &#x27;s&#x27;);
		}

		//If the i argument is not given, return the next send time
		if(isNaN(i) || i &#x3c; 0){
			date = this._getNextDateFrom(date);
			return date;
		}
		//Else return the next i send times
		else{
			var dates = [];
			for(;i&#x3e;0;i--){
				date = this._getNextDateFrom(date);
				dates.push(moment(date));
				if(i&#x3e;1) date.add(1,&#x27;s&#x27;);
			}
			return dates;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype.toJSON" id="apidoc.element.cron.CronTime.prototype.toJSON">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
		var self = this;
		return timeUnits.map(function(timeName){
			return self._wcOrAll(timeName);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cron.CronTime.prototype.toString" id="apidoc.element.cron.CronTime.prototype.toString">
        function <span class="apidocSignatureSpan">cron.CronTime.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
		return this.toJSON().join(&#x27; &#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...




var Job = require(&#x27;./lib/cron&#x27;).CronJob;

new Job(&#x27;*/2 * * * * *&#x27;, function() {
  console.log(new Date().<span class="apidocCodeKeywordSpan">toString</span>()); }
).start();
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
